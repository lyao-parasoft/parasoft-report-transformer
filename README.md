# Parasoft Report Transformer
The parasoft-report-transformer project is designed to transform Parasoft XML reports into other formats.

Supported formats:
- SARIF

## Build instructions

1. Navigate to the project root directory.
2. Run:
   ```
    gradlew clean build
   ``` 
3. Find the distribution in build/distributions.

## Transform Parasoft Reports

### Transform Parasoft Static Analysis XML Report to SARIF Report
Run the *XMLToSARIF* script in *bin* folder with Parasoft XML report:
   * For Windows:
      ```cmd
      path\to\XMLToSARIF.bat -i <path\to\Parasoft\XML\report> [-o <path\to\output\SARIF\report>] [-t <path\to\parasoft\tool\installation\or\Java\home\directory>]
      ```
   * For Linux:
      ```shell
      path/to/XMLToSARIF.sh -i <path/to/Parasoft/XML/report> [-o <path/to/output/SARIF/report>] [-t <path/to/parasoft/tool/installation/or/Java/home/directory>]
      ```

#### Command line options:
| Parameter                          | Description                                                                                                                                           |
|------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------|
| -i, --inputXmlReport (required)    | The path to Parasoft XML report that you want to transform to SARIF report.                                                                           |
| -o, --outputSarifReport (Optional) | The path to output SARIF report. If not specified, the SARIF report will be generated in the same directory as input XML report.                      |
| -t, --toolOrJavaHomeDir (Optional) | The path to Parasoft tools installation or Java home directory. If not specified, transformer will try to use Java from system environment variables. |

If the XML reports generated by Parasoft Jtest, dotTEST, and C/C++test contain sufficient relevant information, the resulting SARIF reports will include files that are scanned during static analysis. For example:
``` code
"runs" [
  {
    "tool": { ... }
    "results": [ ... ]
    "artifacts": [
    {
      "location": {
        "uri": "file:/C:/workspace/project/src/main/java/Example.java" 
       } 
      },
      {
        "location": {
          "uri": "file:/C:/workspace/project/src/main/java/Demo.java" 
        }
      }
    ]
  }
]
```

Notes:
* For C/C++test Professional 2023.1 or earlier, static analysis reports must be generated with the **Add absolute file paths to XML data** option enabled. You can enable this option on the command line by setting the `report.location_details=true` property in the settings file.
